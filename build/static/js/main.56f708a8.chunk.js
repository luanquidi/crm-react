(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),o=a(1),i=a(4),s=a(13),u=r.a.createContext([{},function(){}]),m=function(e){var t=Object(n.useState)({token:"",auth:!1}),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement(u.Provider,{value:[c,l]},e.children)},p=Object(s.e)(function(e){var t=Object(n.useContext)(u),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement("header",{className:"barra"},r.a.createElement("div",{className:"contenedor"},r.a.createElement("div",{className:"contenido-barra"},r.a.createElement("h1",null,"CRM - Administrador de Clientes"),c.auth?r.a.createElement("button",{type:"button",className:"btn btn-rojo",onClick:function(){l({token:"",auth:!1}),localStorage.setItem("token",""),e.history.push("/iniciar-sesion")}},r.a.createElement("i",{className:"far fa-times-circle"}),"Cerrar Sesi\xf3n"):null)))}),d=function(){var e=Object(n.useContext)(u),t=Object(o.a)(e,2),a=t[0];t[1];return a.auth?r.a.createElement("aside",{className:"sidebar col-3"},r.a.createElement("h2",null,"Administraci\xf3n"),r.a.createElement("nav",{className:"navegacion"},r.a.createElement(i.b,{to:"/",className:"clientes"},"Clientes"),r.a.createElement(i.b,{to:"/productos",className:"productos"},"Productos"),r.a.createElement(i.b,{to:"/pedidos",className:"pedidos"},"Pedidos"))):null},b=a(2),E=a.n(b),f=a(5),v=a(31),h=a.n(v).a.create({baseURL:"https://sheltered-lake-29461.herokuapp.com/"}),N=a(3),g=a.n(N);var j=function(e){var t=e.cliente,a=t._id,n=t.nombre,c=t.apellido,l=t.empresa,o=t.email,s=t.telefono;return r.a.createElement("li",{className:"cliente"},r.a.createElement("div",{className:"info-cliente"},r.a.createElement("p",{className:"nombre"},n," ",c),r.a.createElement("p",{className:"empresa"},l),r.a.createElement("p",null,o),r.a.createElement("p",null,"Tel: ",s)),r.a.createElement("div",{className:"acciones"},r.a.createElement(i.b,{to:"/clientes/editar/".concat(a),className:"btn btn-azul"},r.a.createElement("i",{className:"fas fa-pen-alt"}),"Editar Cliente"),r.a.createElement(i.b,{to:"/pedidos/nuevo/".concat(a),className:"btn btn-amarillo"},r.a.createElement("i",{className:"fas fa-plus"}),"Nuevo Pedido"),r.a.createElement("button",{type:"button",className:"btn btn-rojo btn-eliminar",onClick:function(){return e=a,void g.a.fire({title:"\xbfEstas seguro?",text:"Un cliente eliminado no se puede recuperar",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then(function(t){t.value&&h.delete("/clientes/".concat(e)).then(function(e){g.a.fire("Eliminado",e.data.mensaje,"success")})});var e}},r.a.createElement("i",{className:"fas fa-times"}),"Eliminar Cliente")))};a(66);var O=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"dot1"}),r.a.createElement("div",{className:"dot2"}))};var y=Object(s.e)(function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(u),m=Object(o.a)(s,2),p=m[0];return m[1],Object(n.useEffect)(function(){""!==p.token?function(){var e=Object(f.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/clientes",{headers:{Authorization:"Bearer ".concat(p.token)}});case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire({type:"error",title:"Hubo un error",text:"Hubo un error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()():e.history.push("/iniciar-sesion")},[c]),p.auth||e.history.push("/iniciar-sesion"),c.length?r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Clientes"),r.a.createElement(i.b,{to:"/clientes/nuevo",className:"btn btn-verde nvo-cliente"},r.a.createElement("i",{className:"fas fa-plus-circle"}),"Nuevo Cliente"),r.a.createElement("ul",{className:"listado-clientes"},c.map(function(e){return r.a.createElement(j,{key:e._id,cliente:e})}))):r.a.createElement(O,null)}),C=a(8),x=a(12);var k=Object(s.e)(function(e){var t=e.history,a=Object(n.useContext)(u),c=Object(o.a)(a,2),l=c[0],i=(c[1],Object(n.useState)({nombre:"",apellido:"",empresa:"",email:"",telefono:""})),s=Object(o.a)(i,2),m=s[0],p=s[1],d=function(e){p(Object(x.a)({},m,Object(C.a)({},e.target.name,e.target.value)))};return l.auth||localStorage.getItem("token")!==l.token||t.push("/iniciar-sesion"),r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Nuevo Cliente"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h.post("/clientes",m).then(function(e){11e3===e.data.code?g.a.fire({type:"error",title:"Hubo un error",text:"Ese cliente ya esta registrado"}):g.a.fire("Se agreg\xf3 el Cliente",e.data.mensaje,"success"),t.push("/")})}},r.a.createElement("legend",null,"Llena todos los campos"),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",placeholder:"Nombre Cliente",name:"nombre",onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Apellido:"),r.a.createElement("input",{type:"text",placeholder:"Apellido Cliente",name:"apellido",onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Empresa:"),r.a.createElement("input",{type:"text",placeholder:"Empresa Cliente",name:"empresa",onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",placeholder:"Email Cliente",name:"email",onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Tel\xe9fono:"),r.a.createElement("input",{type:"tel",placeholder:"Tel\xe9fono Cliente",name:"telefono",onChange:d})),r.a.createElement("div",{className:"enviar"},r.a.createElement("input",{type:"submit",className:"btn btn-azul",value:"Agregar Cliente",disabled:function(){var e=m.nombre,t=m.apellido,a=m.email,n=m.empresa,r=m.telefono;return!e.length||!t.length||!a.length||!n.length||!r.length}()}))))});var w=Object(s.e)(function(e){var t=e.match.params.id,a=Object(n.useState)({nombre:"",apellido:"",empresa:"",email:"",telefono:""}),c=Object(o.a)(a,2),l=c[0],i=c[1],s=function(){var e=Object(f.a)(E.a.mark(function e(){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/clientes/".concat(t));case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){s()},[]);var u=function(e){i(Object(x.a)({},l,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Editar Cliente"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),h.put("/clientes/".concat(l._id),l).then(function(t){11e3===t.data.code?g.a.fire({type:"error",title:"Hubo un error",text:"Ese cliente ya esta registrado"}):g.a.fire("Correcto","Se actualiz\xf3 Correctamente","success"),e.history.push("/")})}},r.a.createElement("legend",null,"Llena todos los campos"),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",placeholder:"Nombre Cliente",name:"nombre",onChange:u,value:l.nombre})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Apellido:"),r.a.createElement("input",{type:"text",placeholder:"Apellido Cliente",name:"apellido",onChange:u,value:l.apellido})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Empresa:"),r.a.createElement("input",{type:"text",placeholder:"Empresa Cliente",name:"empresa",onChange:u,value:l.empresa})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",placeholder:"Email Cliente",name:"email",onChange:u,value:l.email})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Tel\xe9fono:"),r.a.createElement("input",{type:"tel",placeholder:"Tel\xe9fono Cliente",name:"telefono",onChange:u,value:l.telefono})),r.a.createElement("div",{className:"enviar"},r.a.createElement("input",{type:"submit",className:"btn btn-azul",value:"Guardar Cambios",disabled:function(){var e=l.nombre,t=l.apellido,a=l.email,n=l.empresa,r=l.telefono;return!e.length||!t.length||!a.length||!n.length||!r.length}()}))))});var P=function(e){var t=e.producto,a=t._id,n=t.nombre,c=t.precio,l=t.imagen;return r.a.createElement("li",{className:"producto"},r.a.createElement("div",{className:"info-producto"},r.a.createElement("p",{className:"nombre"},n),r.a.createElement("p",{className:"precio"},"$ ",c),l?r.a.createElement("img",{src:"".concat("https://sheltered-lake-29461.herokuapp.com/","/").concat(l),alt:"imagen"}):null),r.a.createElement("div",{className:"acciones"},r.a.createElement(i.b,{to:"/productos/editar/".concat(a),className:"btn btn-azul"},r.a.createElement("i",{className:"fas fa-pen-alt"}),"Editar Producto"),r.a.createElement("button",{type:"button",className:"btn btn-rojo btn-eliminar",onClick:function(){return e=a,void g.a.fire({title:"\xbfEst\xe1s seguro?",text:"Un producto eliminado no se puede recuperar",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar",cancelButtonText:"No, Cancelar"}).then(function(t){t.value&&h.delete("/productos/".concat(e)).then(function(e){200===e.status&&g.a.fire("Eliminado",e.data.mensaje,"success")})});var e}},r.a.createElement("i",{className:"fas fa-times"}),"Eliminar Cliente")))};var S=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(u),m=Object(o.a)(s,2),p=m[0];return m[1],Object(n.useEffect)(function(){""!==p.token?function(){var t=Object(f.a)(E.a.mark(function t(){var a;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.get("/productos",{headers:{Authorization:"Bearer ".concat(p.token)}});case 3:a=t.sent,l(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),(t.t0.response.status=500)&&e.history.push("/iniciar-sesion");case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}()():e.history.push("/iniciar-sesion")},[c]),p.auth||e.history.push("/iniciar-sesion"),c.length?r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Productos"),r.a.createElement(i.b,{to:"/productos/nuevo",className:"btn btn-verde nvo-cliente"},r.a.createElement("i",{className:"fas fa-plus-circle"}),"Nuevo Producto"),r.a.createElement("ul",{className:"listado-productos"},c.map(function(e){return r.a.createElement(P,{key:e._id,producto:e})}))):r.a.createElement(O,null)};var B=Object(s.e)(function(e){var t=e.match.params.id,a=Object(n.useState)({nombre:"",precio:"",imagen:""}),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)(function(){!function(){var e=Object(f.a)(E.a.mark(function e(){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/productos/".concat(t));case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var d=function(){var a=Object(f.a)(E.a.mark(function a(n){var r,c;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),(r=new FormData).append("nombre",l.nombre),r.append("precio",l.precio),r.append("imagen",m),a.prev=5,a.next=8,h.put("/productos/".concat(t),r,{headers:{"Content-Type":"multipart/form-data"}});case 8:200===(c=a.sent).status&&g.a.fire("Editado Correctamente",c.data.mensaje,"success"),e.history.push("/productos"),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),console.log(a.t0),g.a.fire({type:"error",title:"Hubo un error",text:"Vuelva a intentarlo"});case 17:case"end":return a.stop()}},a,null,[[5,13]])}));return function(e){return a.apply(this,arguments)}}(),b=function(e){i(Object(x.a)({},l,Object(C.a)({},e.target.name,e.target.value)))},v=l.nombre,N=l.precio,j=l.imagen;return v?r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Editar Producto"),r.a.createElement("form",{onSubmit:d},r.a.createElement("legend",null,"Llena todos los campos"),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",placeholder:"Nombre Producto",name:"nombre",onChange:b,defaultValue:v})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Precio:"),r.a.createElement("input",{type:"number",name:"precio",min:"0.00",step:"0.01",placeholder:"Precio",onChange:b,defaultValue:N})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Imagen:"),j?r.a.createElement("img",{src:"".concat("https://sheltered-lake-29461.herokuapp.com/","/").concat(j),alt:"imagen",width:"300"}):null,r.a.createElement("input",{type:"file",name:"imagen",onChange:function(e){p(e.target.files[0])}})),r.a.createElement("div",{className:"enviar"},r.a.createElement("input",{type:"submit",className:"btn btn-azul",value:"Editar Producto"})))):r.a.createElement(O,null)});var T=Object(s.e)(function(e){var t=Object(n.useState)({nombre:"",precio:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),u=s[0],m=s[1],p=function(){var t=Object(f.a)(E.a.mark(function t(a){var n,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("nombre",c.nombre),n.append("precio",c.precio),n.append("imagen",u),t.prev=5,t.next=8,h.post("/productos",n,{headers:{"Content-Type":"multipart/form-data"}});case 8:200===(r=t.sent).status&&g.a.fire("Agregado Correctamente",r.data.mensaje,"success"),e.history.push("/productos"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0),g.a.fire({type:"error",title:"Hubo un error",text:"Vuelva a intentarlo"});case 17:case"end":return t.stop()}},t,null,[[5,13]])}));return function(e){return t.apply(this,arguments)}}(),d=function(e){l(Object(x.a)({},c,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Nuevo Producto"),r.a.createElement("form",{onSubmit:p},r.a.createElement("legend",null,"Llena todos los campos"),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",placeholder:"Nombre Producto",name:"nombre",onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Precio:"),r.a.createElement("input",{type:"number",name:"precio",min:"0.00",step:"0.01",placeholder:"Precio",onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Imagen:"),r.a.createElement("input",{type:"file",name:"imagen",onChange:function(e){m(e.target.files[0])}})),r.a.createElement("div",{className:"enviar"},r.a.createElement("input",{type:"submit",className:"btn btn-azul",value:"Agregar Producto"}))))});var D=function(e){var t=e.pedido,a=t.cliente;return r.a.createElement("li",{className:"pedido"},r.a.createElement("div",{className:"info-pedido"},r.a.createElement("p",{className:"id"},"ID: 0192019201291201"),r.a.createElement("p",{className:"nombre"},"Cliente: ",a.nombre," ",a.apellido," "),r.a.createElement("div",{className:"articulos-pedido"},r.a.createElement("p",{className:"productos"},"Art\xedculos Pedido: "),r.a.createElement("ul",null,t.pedido.map(function(e){return r.a.createElement("li",{key:t._id+e.producto._id},r.a.createElement("p",null,e.producto.nombre," "),r.a.createElement("p",null,"Precio: $",e.producto.precio," "),r.a.createElement("p",null,"Cantidad: ",e.cantidad))}))),r.a.createElement("p",{className:"total"},"Total: $",t.total," ")),r.a.createElement("div",{className:"acciones"},r.a.createElement("button",{type:"button",className:"btn btn-rojo btn-eliminar"},r.a.createElement("i",{className:"fas fa-times"}),"Eliminar Pedido")))};var A=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){!function(){var e=Object(f.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/pedidos");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Pedidos"),r.a.createElement("ul",{className:"listado-pedidos"},a.map(function(e){return r.a.createElement(D,{key:e._id,pedido:e})})))},z=a(15);var F=function(e){return r.a.createElement("form",{onSubmit:e.buscarProducto},r.a.createElement("legend",null,"Busca un Producto y agrega una cantidad"),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Productos:"),r.a.createElement("input",{type:"text",placeholder:"Nombre Productos",name:"productos",onChange:e.leerDatosBusqueda})),r.a.createElement("input",{type:"submit",className:"btn btn-azul btn-block",value:"Buscar Producto"}))};var H=function(e){var t=e.producto,a=e.restarProductos,n=e.aumentarProductos,c=e.eliminarProductoPedido,l=e.index;return r.a.createElement("li",null,r.a.createElement("div",{className:"texto-producto"},r.a.createElement("p",{className:"nombre"},t.nombre),r.a.createElement("p",{className:"precio"},"$ ",t.precio)),r.a.createElement("div",{className:"acciones"},r.a.createElement("div",{className:"contenedor-cantidad"},r.a.createElement("i",{className:"fas fa-minus",onClick:function(){return a(l)}}),r.a.createElement("p",null,t.cantidad),r.a.createElement("i",{className:"fas fa-plus",onClick:function(){return n(l)}})),r.a.createElement("button",{type:"button",className:"btn btn-rojo",onClick:function(){return c(t._id)}},r.a.createElement("i",{className:"fas fa-minus-circle"}),"Eliminar Producto")))};var I=Object(s.e)(function(e){var t=e.match.params.id,a=Object(n.useState)({}),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)([]),b=Object(o.a)(d,2),v=b[0],N=b[1],j=Object(n.useState)(0),O=Object(o.a)(j,2),y=O[0],C=O[1];Object(n.useEffect)(function(){(function(){var e=Object(f.a)(E.a.mark(function e(){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/clientes/".concat(t));case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),S()},[v]);var x=function(){var e=Object(f.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h.post("/productos/busqueda/".concat(m));case 3:(a=e.sent).data[0]?((n=a.data[0]).producto=a.data[0]._id,n.cantidad=0,N([].concat(Object(z.a)(v),[n]))):g.a.fire({type:"error",title:"No Resultados",text:"No hay resultados"});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=Object(z.a)(v);0!==t[e].cantidad&&(t[e].cantidad--,N(t))},w=function(e){var t=Object(z.a)(v);t[e].cantidad++,N(t)},P=function(e){var t=v.filter(function(t){return t.producto!==e});N(t)},S=function(){if(0!==v.length){var e=0;v.map(function(t){return e+=t.cantidad*t.precio}),C(e)}else C(0)},B=function(){var t=Object(f.a)(E.a.mark(function t(a){var n,r,c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.match.params.id,r={cliente:n,pedido:v,total:y},t.next=5,h.post("/pedidos/nuevo/".concat(n),r);case 5:200===(c=t.sent).status?g.a.fire({type:"success",title:"Correcto",text:c.data.mensaje}):g.a.fire({type:"error",title:"Hubo un Error",text:"Vuelva a intentarlo"}),e.history.push("/pedidos");case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Nuevo Pedido"),r.a.createElement("div",{className:"ficha-cliente"},r.a.createElement("h3",null,"Datos de Cliente"),r.a.createElement("p",null,"Nombre: ",l.nombre," ",l.apellido),r.a.createElement("p",null,"Tel\xe9fono: ",l.telefono)),r.a.createElement(F,{buscarProducto:x,leerDatosBusqueda:function(e){p(e.target.value)}}),r.a.createElement("ul",{className:"resumen"},v.map(function(e,t){return r.a.createElement(H,{key:e.producto,producto:e,restarProductos:k,aumentarProductos:w,eliminarProductoPedido:P,index:t})})),r.a.createElement("p",{className:"total"},"Total a Pagar: ",r.a.createElement("span",null,"$ ",y)," "),y>0?r.a.createElement("form",{onSubmit:B},r.a.createElement("input",{type:"submit",className:"btn btn-verde btn-block",value:"Realizar Pedido"})):null)});var _=Object(s.e)(function(e){var t=Object(n.useContext)(u),a=Object(o.a)(t,2),c=(a[0],a[1]),l=Object(n.useState)({}),i=Object(o.a)(l,2),s=i[0],m=i[1],p=function(){var t=Object(f.a)(E.a.mark(function t(a){var n,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,h.post("/iniciar-sesion",s);case 4:n=t.sent,r=n.data.token,localStorage.setItem("token",r),c({token:r,auth:!0}),g.a.fire("Login Correcto","Has iniciado Sesi\xf3n","success"),e.history.push("/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0.response?g.a.fire({type:"error",title:"Hubo un error",text:t.t0.response.data.mensaje}):g.a.fire({type:"error",title:"Hubo un error",text:"Hubo un error"});case 15:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}(),d=function(e){m(Object(x.a)({},s,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"login"},r.a.createElement("h2",null,"Iniciar Sesi\xf3n"),r.a.createElement("div",{className:"contenedor-formulario"},r.a.createElement("form",{onSubmit:p},r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email para Iniciar Sesi\xf3n",required:!0,onChange:d})),r.a.createElement("div",{className:"campo"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password para Iniciar Sesi\xf3n",required:!0,onChange:d})),r.a.createElement("input",{type:"submit",value:"Iniciar Sesi\xf3n",className:"btn btn-verde btn-block"}))))});var L=function(){var e=Object(n.useContext)(u),t=Object(o.a)(e,2),a=t[0],c=t[1];return console.log("https://sheltered-lake-29461.herokuapp.com/"),r.a.createElement(i.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(m,{value:[a,c]},r.a.createElement(p,null),r.a.createElement("div",{className:"grid contenedor contenido-principal"},r.a.createElement(d,null),r.a.createElement("main",{className:"caja-contenido col-9"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:y}),r.a.createElement(s.a,{exact:!0,path:"/clientes/nuevo",component:k}),r.a.createElement(s.a,{exact:!0,path:"/clientes/editar/:id",component:w}),r.a.createElement(s.a,{exact:!0,path:"/productos",component:S}),r.a.createElement(s.a,{exact:!0,path:"/productos/nuevo",component:T}),r.a.createElement(s.a,{exact:!0,path:"/productos/editar/:id",component:B}),r.a.createElement(s.a,{exact:!0,path:"/pedidos",component:A}),r.a.createElement(s.a,{exact:!0,path:"/pedidos/nuevo/:id",component:I}),r.a.createElement(s.a,{exact:!0,path:"/iniciar-sesion",component:_})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.56f708a8.chunk.js.map